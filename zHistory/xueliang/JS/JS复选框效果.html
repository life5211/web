<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>JS控制复选框</title>
    <script>
        window.onload=function(){
            var r =document.getElementById("reverseCheck");
            r.onclick=dian;

            var hobbyList = document.getElementsByName("hobby");
            var count = 0;
            for(var i = 0; i < hobbyList.length; i++){
                hobbyList[i].onclick = checkAll2;
            }
        }

        function checkAll2(){
            var checkAll = document.getElementById("checkAll");
            var hobbyList = document.getElementsByName("hobby");
            var count = 0;//用此标志位（计数器）判断是否全部选中
            if(this.checked){
                //判断选项是否全部选中，如果全选，计数器的值等于length
                for(var i = 0; i < hobbyList.length; i++){
                    if(hobbyList[i].checked){
                        count++;//计算有多少个复选框项被选中
                    }
                }
                if(count == hobbyList.length){//如果被选中的复选框项的个数刚好等于所有复选框项个数，说明全部选中
                    checkAll.checked = true;
                } else {
                    checkAll.checked = false;
                }
            } else {
                checkAll.checked = false;
            }
        }

        function dian() {
            var hobbyList = document.getElementsByName("hobby");
            for (var i = 0; i < hobbyList.length; i++) {
                //实现方式一
//               if( hobbyList[i].checked == false){
//                   hobbyList[i].checked = true;
//               }
//                else{
//                   hobbyList[i].checked = false;
//               }
                //实现方式二
                hobbyList[i].checked = !hobbyList[i].checked;
            }
        }

        function checkAll(obj){
            var hobbyList = document.getElementsByName("hobby");
            //实线方式一
            /*if(obj.checked){//全选框为选中
                for(var i = 0; i < hobbyList.length; i++){//设置所有的复选框为选中
                    hobbyList[i].checked = true;
                }
            } else {//全选框没选中
                for(var i = 0; i < hobbyList.length; i++){//设置所有的复选框为没选中
                    hobbyList[i].checked = false;
                }
            }*/

            //实线方式二
            for(var i = 0; i < hobbyList.length; i++){
                hobbyList[i].checked = obj.checked;
            }
        }

    </script>
</head>
<body>
    全选<input type="checkbox" name="checkAll" value="all" id="checkAll" onclick="checkAll(this)">
    反选<input type="checkbox" name="checkAll" value="all" id="reverseCheck"><br><br/>
        体育<input type="checkbox" name="hobby" value="sport">
        音乐<input type="checkbox" name="hobby" value="music">
        电影<input type="checkbox" name="hobby" value="film"><br><br>
</body>
</html>